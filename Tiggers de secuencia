/*
*
* TRIGGERS
* DE
* SECUENCIAS
*
*/

DROP SEQUENCE SEC_CLIENTES;
DROP SEQUENCE SEC_PEDIDOS;
DROP SEQUENCE SEC_REPARTOS;
DROP SEQUENCE SEC_PRODUCTOS;
DROP SEQUENCE SEC_CONTIENEN;
DROP SEQUENCE SEC_LINEASPEDIDOS;
DROP SEQUENCE SEC_INGREDIENTES;
DROP SEQUENCE SEC_ENGLOBAN;
DROP SEQUENCE SEC_ENCARGOS;
DROP SEQUENCE SEC_LINEASENCARGOS;

CREATE SEQUENCE SEC_CLIENTES;

CREATE OR REPLACE TRIGGER INSERTAR_CLIENTES
BEFORE INSERT ON CLIENTES
REFERENCING NEW AS NEW 
FOR EACH ROW 
DECLARE VALORSECUENCIA NUMBER := 0;
BEGIN
  SELECT SEC_CLIENTES.CURRVAL INTO VALORSECUENCIA FROM DUAL;
  :NEW.OID_CLIENTE := VALORSECUENCIA;
END;  
/

CREATE SEQUENCE SEC_PEDIDOS;

CREATE OR REPLACE TRIGGER INSERTAR_PEDIDOS
BEFORE INSERT ON PEDIDOS
REFERENCING NEW AS NEW 
FOR EACH ROW 
DECLARE VALORSECUENCIA NUMBER := 0;
BEGIN
  SELECT SEC_PEDIDOS.CURRVAL INTO VALORSECUENCIA FROM DUAL;
  :NEW.ID_PEDIDO := VALORSECUENCIA;
END;  
/

CREATE SEQUENCE SEC_REPARTOS;

CREATE OR REPLACE TRIGGER INSERTAR_REPARTOS
BEFORE INSERT ON REPARTOS
REFERENCING NEW AS NEW 
FOR EACH ROW 
DECLARE VALORSECUENCIA NUMBER := 0;
BEGIN
  SELECT SEC_REPARTOS.CURRVAL INTO VALORSECUENCIA FROM DUAL;
  :NEW.OID_REPARTO := VALORSECUENCIA;
END;  
/

CREATE SEQUENCE SEC_PRODUCTOS;

CREATE OR REPLACE TRIGGER INSERTAR_PRODUCTOS
BEFORE INSERT ON PRODUCTOS
REFERENCING NEW AS NEW 
FOR EACH ROW 
DECLARE VALORSECUENCIA NUMBER := 0;
BEGIN
  SELECT SEC_PRODUCTOS.CURRVAL INTO VALORSECUENCIA FROM DUAL;
  :NEW.OID_PRODUCTO := VALORSECUENCIA;
END;  
/

CREATE SEQUENCE SEC_CONTIENEN;

CREATE OR REPLACE TRIGGER INSERTAR_CONTIENEN
BEFORE INSERT ON CONTIENEN
REFERENCING NEW AS NEW 
FOR EACH ROW 
DECLARE VALORSECUENCIA NUMBER := 0;
BEGIN
  SELECT SEC_CONTIENEN.CURRVAL INTO VALORSECUENCIA FROM DUAL;
  :NEW.OID_CONTIENE := VALORSECUENCIA;
END;  
/

CREATE SEQUENCE SEC_LINEASPEDIDOS;

CREATE OR REPLACE TRIGGER INSERTAR_LINEASPEDIDOS
BEFORE INSERT ON LINEASPEDIDOS
REFERENCING NEW AS NEW 
FOR EACH ROW 
DECLARE VALORSECUENCIA NUMBER := 0;
BEGIN
  SELECT SEC_LINEASPEDIDOS.CURRVAL INTO VALORSECUENCIA FROM DUAL;
  :NEW.OID_LINEAPEDIDO := VALORSECUENCIA;
END;  
/

CREATE SEQUENCE SEC_INGREDIENTES;

CREATE OR REPLACE TRIGGER INSERTAR_INGREDIENTES
BEFORE INSERT ON INGREDIENTES
REFERENCING NEW AS NEW 
FOR EACH ROW 
DECLARE VALORSECUENCIA NUMBER := 0;
BEGIN
  SELECT SEC_INGREDIENTES.CURRVAL INTO VALORSECUENCIA FROM DUAL;
  :NEW.OID_INGREDIENTE := VALORSECUENCIA;
END;  
/

CREATE SEQUENCE SEC_ENGLOBAN;

CREATE OR REPLACE TRIGGER INSERTAR_ENGLOBAN
BEFORE INSERT ON ENGLOBAN
REFERENCING NEW AS NEW 
FOR EACH ROW 
DECLARE VALORSECUENCIA NUMBER := 0;
BEGIN
  SELECT SEC_ENGLOBAN.CURRVAL INTO VALORSECUENCIA FROM DUAL;
  :NEW.OID_ENGLOBA := VALORSECUENCIA;
END;  
/

CREATE SEQUENCE SEC_ENCARGOS;

CREATE OR REPLACE TRIGGER INSERTAR_ENCARGOS
BEFORE INSERT ON ENCARGOS
REFERENCING NEW AS NEW 
FOR EACH ROW 
DECLARE VALORSECUENCIA NUMBER := 0;
BEGIN
  SELECT SEC_ENCARGOS.CURRVAL INTO VALORSECUENCIA FROM DUAL;
  :NEW.OID_ENCARGO := VALORSECUENCIA;
END;  
/

CREATE SEQUENCE SEC_LINEASENCARGOS;

CREATE OR REPLACE TRIGGER INSERTAR_LINEASENCARGOS
BEFORE INSERT ON LINEASENCARGOS
REFERENCING NEW AS NEW 
FOR EACH ROW 
DECLARE VALORSECUENCIA NUMBER := 0;
BEGIN
  SELECT SEC_LINEASENCARGOS.CURRVAL INTO VALORSECUENCIA FROM DUAL;
  :NEW.OID_LINEAENCARGO := VALORSECUENCIA;
END;  
/
